<?php/* * Ok, so this was a fun little project that I really enjoyed working on. * Please read the comments in a fake French accent. */class reviews extends api{    //Constructor    function __construct($registry){        $this->registry_keys = $registry;		//Get le business data		$this->businessData = json_decode(file_get_contents("http://test.localfeedbackloop.com/api?apiKey=61067f81f8cf7e4a1f673cd230216112&noOfReviews=10&internal=1&yelp=1&google=1&offset=50&threshold=1"),true);		    }    //Main    public function main(){				//Make sure we have le customer reviews		if(sizeof($this->businessData["reviews"]) > 0){			//Le loop			foreach($this->businessData["reviews"] as $currentReview){				//Make le date_of_submission friendly				$currentReview["date_of_submission"] = date("F j, Y @ H:i",strtotime($currentReview["date_of_submission"]));				//Render le $customerReviews				$customerReviews .= $this->render_view("reviews/views/customerReview.htm",$currentReview);			}		}		else{			$customerReviews = "Nothing here yet.";		}				//Le showtime        $this->content_pipe = $this->render_view("reviews/views/businessReview.htm",array(			"customer_reviews" => $customerReviews,			"customer_ratings" => json_encode($this->businessData["reviews"]),			"external_url" => $this->businessData["business_info"]["external_url"],			"business_name" => $this->businessData["business_info"]["business_name"],			"business_phone" => $this->businessData["business_info"]["business_phone"],			"business_address" => $this->businessData["business_info"]["business_address"],			"external_page_url" => $this->businessData["business_info"]["external_page_url"],			"business_rating" => $this->businessData["business_info"]["total_rating"]["total_avg_rating"],			"total_reviews" => $this->businessData["business_info"]["total_rating"]["total_no_of_reviews"],		));    }}?>